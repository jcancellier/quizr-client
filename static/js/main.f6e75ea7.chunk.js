(this["webpackJsonpquizr-client"]=this["webpackJsonpquizr-client"]||[]).push([[0],{111:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(10),i=n.n(a),u=n(13),c=n(32),l=n(70),s=n(15);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={authToken:"",user:"",isLoggedIn:!1,isLoggingIn:!1};function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O={hubConnection:null,usersOnline:null,isHubConnectionLoading:!1};function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y={isAddingUserToQuizRoom:!1,quizRoom:null,roomTime:0,quizPhase:"lobby",results:null},v=Object(c.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH/SET_AUTH_TOKEN":return p({},e,{authToken:t.payload});case"AUTH/SET_USER":return p({},e,{user:t.payload});case"AUTH/SET_IS_LOGGED_IN":return p({},e,{isLoggedIn:t.payload});case"AUTH/SET_IS_LOGGING_IN":return p({},e,{isLoggingIn:t.payload});default:return e}},server:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SERVER/SET_HUBCONNECTION":return d({},e,{hubConnection:t.payload});case"SERVER/USERS_ONLINE":return d({},e,{usersOnline:t.payload});case"SERVER/IS_HUB_CONNECTION_LOADING":return d({},e,{isHubConnectionLoading:t.payload});default:return e}},quizRoom:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"QUIZ_ROOM/SET_QUIZ_ROOM":return h({},e,{quizRoom:t.payload});case"QUIZ_ROOM/SET_IS_ADDING_USER_TO_QUIZ_ROOM":return h({},e,{isAddingUserToQuizRoom:t.payload});case"QUIZ_ROOM/SET_QUIZ_ROOM_TIME":return h({},e,{roomTime:t.payload});case"QUIZ_ROOM/SET_QUIZ_ROOM_PHASE":return h({},e,{quizPhase:t.payload});case"QUIZ_ROOM/SET_QUIZ_RESULTS":return h({},e,{results:t.payload});default:return e}}}),E=[n(71).a],j=Object(c.createStore)(v,{},Object(l.composeWithDevTools)(c.applyMiddleware.apply(void 0,E))),I=n(20),T=n(16),R=n(21),S=n(22),x=n(23),z=n(11),_=n(59),L=n(147),U=n(153),C=n(79),Q=n(151),w=Object(C.a)({palette:{type:"dark"},typography:{fontFamily:"'Varela Round', sans-serif"}}),P=w=Object(Q.a)(w),A=n(12),D=n(3),F=n(36),q=Object(u.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn}}))((function(e){e.component;var t=Object(D.a)(e,["component"]);return o.a.createElement(F.b,t,e.isLoggedIn?o.a.createElement(e.component,null):o.a.createElement(F.a,{to:"/"}))})),H=n(152),N=n(150),k=n(148);function M(){var e=Object(z.a)(["\n  height: 0.7rem;\n"]);return M=function(){return e},e}function Z(){var e=Object(z.a)(["\n  display: flex;\n  flex: 1;\n"]);return Z=function(){return e},e}function J(){var e=Object(z.a)(["\n  display: flex;\n  flex: 1;\n"]);return J=function(){return e},e}function G(){var e=Object(z.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  flex: 1;\n"]);return G=function(){return e},e}function B(){var e=Object(z.a)(["\n  display: flex;\n  flex-direction: column;\n  // padding-bottom: 1rem;\n\n  // @media (max-width: 768px) {\n  //   flex-direction: column;\n  // }\n"]);return B=function(){return e},e}function V(){var e=Object(z.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n"]);return V=function(){return e},e}var W=A.a.div(V()),K=A.a.div(B()),$=A.a.form(G()),X=A.a.div(J()),Y=A.a.div(Z()),ee=A.a.div(M()),te=n(141),ne=n(144),re=n(145);function oe(){var e=Object(z.a)(["\n  flex: 1;\n"]);return oe=function(){return e},e}var ae=function(e){return o.a.createElement(te.a,{position:"static",color:"primary"},o.a.createElement(ne.a,null,o.a.createElement(ie,{variant:"h4"},"Quizr"),e.buttons&&o.a.createElement(N.a,{color:"inherit"},"Create Quiz")))};ae.defaultProps={buttons:!0};var ie=Object(A.a)(re.a)(oe()),ue=1,ce=function(e){function t(){var e,n;Object(I.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(R.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(a)))).state={usernameInputText:"",submitAuthenticationFormDisable:!0,submitAuthenticationFormError:!1},n.handleUsernameInputTextChange=function(e){n.setState({usernameInputText:e.target.value},(function(){n.validateFormFields()}))},n.renderConnectButton=function(){var e=n.props.isLoggedIn;return o.a.createElement(N.a,{variant:"contained",color:"primary",endIcon:o.a.createElement(H.a,null),disabled:!e&&n.state.submitAuthenticationFormDisable,onClick:n.handleSubmitAuthenticationForm,type:"submit"},n.props.isLoggedIn?"Reconnect":"Login")},n.validateFormFields=function(){n.state.usernameInputText.length>=ue?n.setState({submitAuthenticationFormDisable:!1}):n.setState({submitAuthenticationFormDisable:!0})},n.handleSubmitAuthenticationForm=function(e){e.preventDefault(),n.props.isLoggedIn?n.props.history.push(Ge):(n.props.setIsLoggingIn(!0),n.props.connection.invoke("Login",n.state.usernameInputText).then((function(e){n.setState({submitAuthenticationFormError:!1}),n.props.setIsLoggingIn(!1),console.info("Logged in as user ".concat(e)),n.props.setIsLoggedIn(!0),n.props.setUser(e),n.props.history.push(Ge)})).catch((function(e){n.props.setIsLoggingIn(!1),console.log(e.toString()),n.setState({submitAuthenticationFormError:!0})})))},n}return Object(x.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(r.Fragment,null,o.a.createElement(ae,null),o.a.createElement(W,null,o.a.createElement(X,null),o.a.createElement($,{onSubmit:this.handleSubmitAuthenticationForm},o.a.createElement(K,null,!this.props.isLoggedIn&&o.a.createElement(k.a,{id:"username-input",label:"Username",value:this.state.usernameInputText,onChange:function(t){return e.handleUsernameInputTextChange(t)},variant:"outlined",error:this.state.submitAuthenticationFormError,helperText:this.state.submitAuthenticationFormError?"Username already being used":null}),o.a.createElement(ee,null),this.renderConnectButton())),o.a.createElement(Y,null)))}}]),t}(r.Component),le=Object(u.b)((function(e){return{connection:e.server.hubConnection,isLoggedIn:e.auth.isLoggedIn}}),{setIsLoggedIn:function(e){return{type:"AUTH/SET_IS_LOGGED_IN",payload:e}},setUser:function(e){return{type:"AUTH/SET_USER",payload:e}},setIsLoggingIn:function(e){return{type:"AUTH/SET_IS_LOGGING_IN",payload:e}}})(ce);function se(){var e=Object(z.a)(["\n  display: flex;\n  flex-direction: column;\n  /* align-items: center;\n  justify-content: center; */\n"]);return se=function(){return e},e}function me(){var e=Object(z.a)(["\n  height: 0.7rem;\n"]);return me=function(){return e},e}function pe(){var e=Object(z.a)(["\n  display: flex;\n  flex: 1;\n"]);return pe=function(){return e},e}function fe(){var e=Object(z.a)(["\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n"]);return fe=function(){return e},e}function be(){var e=Object(z.a)(["\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: space-evenly;\n  flex-direction: column;\n"]);return be=function(){return e},e}function de(){var e=Object(z.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n"]);return de=function(){return e},e}var Oe=A.a.div(de()),ge=A.a.div(be()),he=A.a.div(fe()),ye=A.a.div(pe()),ve=A.a.div(me()),Ee=A.a.form(se()),je=5,Ie=function(e){function t(){var e,n;Object(I.a)(this,t);for(var a=arguments.length,i=new Array(a),u=0;u<a;u++)i[u]=arguments[u];return(n=Object(R.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(i)))).state={roomNumberInputText:"",submitJoinQuizFormDisable:!0,submitJoinQuizFormError:!1},n.handleRoomNumberInputTextChange=function(e){n.setState({roomNumberInputText:e.target.value},(function(){n.validateFormFields()}))},n.validateFormFields=function(){n.state.roomNumberInputText.length>=je?n.setState({submitJoinQuizFormDisable:!1}):n.setState({submitJoinQuizFormDisable:!0})},n.handleSubmitJoinQuizForm=function(e){e.preventDefault();var t=n.props,r=t.connection,o=t.user;n.props.setIsAddingUserToQuizRoom(!0),r.invoke("AddUserToRoom",o.name,n.state.roomNumberInputText).then((function(e){n.props.setIsAddingUserToQuizRoom(!1),n.props.setQuizRoom(e),n.setState({submitJoinQuizFormError:!1},(function(){n.props.history.push(Be)}))})).catch((function(e){n.props.setIsAddingUserToQuizRoom(!1),n.setState({submitJoinQuizFormError:!0})}))},n.renderFormInputsOrReturnToQuizButton=function(){return null==n.props.quizRoom?o.a.createElement(r.Fragment,null,o.a.createElement(k.a,{id:"room-number-input",label:"Room #",value:n.state.roomNumberInputText,onChange:function(e){return n.handleRoomNumberInputTextChange(e)},variant:"outlined",error:n.state.submitJoinQuizFormError,helperText:n.state.submitJoinQuizFormError?"Unable to join room":null}),o.a.createElement(ve,null),o.a.createElement(N.a,{variant:"contained",color:"primary",endIcon:null,disabled:n.state.submitJoinQuizFormDisable,onClick:n.handleSubmitJoinQuizForm,type:"submit"},"Join Room")):o.a.createElement(N.a,{variant:"contained",color:"primary",endIcon:null,onClick:function(e){e.preventDefault(),n.props.history.push(Be)},type:"submit"},"Rejoin Quiz")},n}return Object(x.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return o.a.createElement(r.Fragment,null,o.a.createElement(ae,{buttons:!1}),o.a.createElement(Oe,null,o.a.createElement(ge,null,o.a.createElement(re.a,{variant:"h4",style:{fontSize:"calc(16px + 3vw)"}},"Welcome ",o.a.createElement("strong",null,o.a.createElement("em",null,this.props.user.name))),!this.props.quizRoom&&o.a.createElement(re.a,{variant:"body1",style:{fontSize:"calc(12px + 0.5vw)"}},"Enter a room # below to get started")),o.a.createElement(he,null,o.a.createElement(Ee,null,this.renderFormInputsOrReturnToQuizButton())),o.a.createElement(ye,null)))}}]),t}(r.Component),Te=Object(F.g)(Object(u.b)((function(e){return{user:e.auth.user,connection:e.server.hubConnection,quizRoom:e.quizRoom.quizRoom}}),{setQuizRoom:function(e){return{type:"QUIZ_ROOM/SET_QUIZ_ROOM",payload:e}},setIsAddingUserToQuizRoom:function(e){return{type:"QUIZ_ROOM/SET_IS_ADDING_USER_TO_QUIZ_ROOM",payload:e}}})(Ie));function Re(){var e=Object(z.a)(["\n  height: 0.7rem;\n"]);return Re=function(){return e},e}function Se(){var e=Object(z.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: ",";\n"]);return Se=function(){return e},e}function xe(){var e=Object(z.a)(["\n  display: flex;\n  flex: 1;\n  align-items: ",";\n  justify-content: ",";\n"]);return xe=function(){return e},e}function ze(){var e=Object(z.a)(["\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: space-evenly;\n  flex-direction: column;\n"]);return ze=function(){return e},e}function _e(){var e=Object(z.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n"]);return _e=function(){return e},e}var Le=A.a.div(_e()),Ue=A.a.div(ze()),Ce=A.a.div(xe(),(function(e){return e.alignItems?e.alignItems:"center"}),(function(e){return e.justifyContent?e.justifyContent:"center"})),Qe=A.a.div(Se(),(function(e){return e.flexDirection?e.flexDirection:"row"})),we=(A.a.div(Re()),function(e){function t(){return Object(I.a)(this,t),Object(R.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return o.a.createElement(Le,null,o.a.createElement(Ue,null,o.a.createElement(Ce,null,o.a.createElement(re.a,{variant:"h2"},"Preparing quiz"))),o.a.createElement(Ce,null,o.a.createElement(Ce,null,o.a.createElement(re.a,{variant:"h1"},this.props.roomTime))),o.a.createElement(Qe,{flexDirection:"column"},o.a.createElement(Ce,null),o.a.createElement(Ce,null,o.a.createElement(re.a,{variant:"h6"},"Online Users: ",63))))}}]),t}(r.Component)),Pe=Object(u.b)((function(e){return{roomTime:e.quizRoom.roomTime}}),{})(we),Ae=function(e){function t(){return Object(I.a)(this,t),Object(R.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("p",null,"Preparing Question"))}}]),t}(r.Component),De=Object(u.b)()(Ae),Fe=function(e){function t(){return Object(I.a)(this,t),Object(R.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("p",null,"Question Page"))}}]),t}(r.Component),qe=Object(u.b)()(Fe),He=Object(u.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn,quizRoom:e.quizRoom.quizRoom,quizPhase:e.quizRoom.quizPhase}}))((function(e){e.component;var t=Object(D.a)(e,["component"]);return o.a.createElement(F.b,t,function(){if(!e.isLoggedIn)return o.a.createElement(F.a,{to:"/"});if(!e.quizRoom)return o.a.createElement(F.a,{to:Ge});switch(e.quizPhase){case"lobby":return o.a.createElement(Pe,null);case"prequestion":return o.a.createElement(De,null);case"question":return o.a.createElement(qe,null);default:return o.a.createElement(F.a,{to:"/"})}}())})),Ne=n(41),ke=function(e){function t(){return Object(I.a)(this,t),Object(R.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(x.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("p",null,"Results Page"))}}]),t}(r.Component),Me=Object(u.b)()(ke),Ze=function(e){return o.a.createElement(Ne.a,{basename:"/"},o.a.createElement(F.d,null,o.a.createElement(F.b,{exact:!0,path:"/",component:le}),o.a.createElement(q,{path:Ge,component:Te}),o.a.createElement(He,{path:Be}),o.a.createElement(Je,{path:Ve,component:Me}),o.a.createElement(F.a,{to:"/"})))},Je=Object(u.b)((function(e){return{quizResults:e.quizRoom.results}}))((function(e){return e.quizResults?o.a.createElement(q,e):o.a.createElement(F.a,{to:"/"})})),Ge="/joinquiz",Be="/quiz",Ve="/quizresults",We=n(78),Ke=n.n(We);function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ye(){var e=Object(z.a)(["\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n"]);return Ye=function(){return e},e}var et=A.a.div(Ye()),tt=function(e){function t(){var e,n;Object(I.a)(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Object(R.a)(this,(e=Object(S.a)(t)).call.apply(e,[this].concat(o)))).state={isHubConnectionLoading:!1,errorLoadingHubConnection:!1},n.setIsHubConnectionLoading=function(e){n.setState({isHubConnectionLoading:e})},n.determineLoadingOverlayText=function(){return n.state.errorLoadingHubConnection?"Error contacting server. Please refresh page to try again!":n.state.isHubConnectionLoading?"":n.props.isLoggingIn?"Logging in":n.props.isAddingUserToQuizRoom?"Joining Quiz":""},n}return Object(x.a)(t,e),Object(T.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setIsHubConnectionLoading(!0);var t=(new _.b).withUrl("https://quizr-api.herokuapp.com/quizrhub",_.a.WebSockets).withAutomaticReconnect().build();t.onreconnecting((function(){e.setIsHubConnectionLoading(!0)})),t.onreconnected((function(){e.setIsHubConnectionLoading(!1)})),t.start().then((function(){e.props.setHubConnection(t),e.setIsHubConnectionLoading(!1)})).catch((function(t){e.setIsHubConnectionLoading(!1),e.setState({errorLoadingHubConnection:!0})})),t.on("UpdateRoomTimer",(function(t){e.props.setQuizRoomTime(t)}))}},{key:"render",value:function(){return o.a.createElement(L.a,{theme:P},o.a.createElement(Ke.a,{active:this.state.isHubConnectionLoading||this.props.isLoggingIn||this.state.errorLoadingHubConnection||this.props.isAddingUserToQuizRoom,spinner:!this.state.errorLoadingHubConnection,fadeSpeed:0,text:this.determineLoadingOverlayText(),styles:{spinner:function(e){return Xe({},e,{"& svg circle":{stroke:"".concat(P.palette.primary[P.palette.type])}})},content:function(e){return Xe({},e,{fontFamily:P.typography.fontFamily})},overlay:function(e){return Xe({},e,{zIndex:2e3})}}},o.a.createElement(U.a,null),o.a.createElement(et,null,o.a.createElement(Ze,null))))}}]),t}(r.Component),nt=Object(u.b)((function(e){return{isLoggingIn:e.auth.isLoggingIn,isAddingUserToQuizRoom:e.quizRoom.isAddingUserToQuizRoom}}),{setHubConnection:function(e){return{type:"SERVER/SET_HUBCONNECTION",payload:e}},setQuizRoomTime:function(e){return{type:"QUIZ_ROOM/SET_QUIZ_ROOM_TIME",payload:e}}})(tt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(u.a,{store:j},o.a.createElement(nt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},87:function(e,t,n){e.exports=n(111)}},[[87,1,2]]]);
//# sourceMappingURL=main.f6e75ea7.chunk.js.map