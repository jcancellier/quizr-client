(this["webpackJsonpquizr-client"]=this["webpackJsonpquizr-client"]||[]).push([[0],{111:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(10),i=n.n(a),c=n(31),u=n(27),s=n(69),l=n(15);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b={authToken:"",user:"",isLoggedIn:!1,isLoggingIn:!1};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m={hubConnection:null,usersOnline:null,isHubConnectionLoading:!1},h=Object(u.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH/SET_AUTH_TOKEN":return g({},e,{authToken:t.payload});case"AUTH/SET_USER":return g({},e,{user:t.payload});case"AUTH/SET_IS_LOGGED_IN":return g({},e,{isLoggedIn:t.payload});case"AUTH/SET_IS_LOGGING_IN":return g({},e,{isLoggingIn:t.payload});default:return e}},server:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SERVER/SET_HUBCONNECTION":return d({},e,{hubConnection:t.payload});case"SERVER/USERS_ONLINE":return d({},e,{usersOnline:t.payload});case"SERVER/IS_HUB_CONNECTION_LOADING":return d({},e,{isHubConnectionLoading:t.payload});default:return e}}}),O=[n(70).a],y=Object(u.createStore)(h,{},Object(s.composeWithDevTools)(u.applyMiddleware.apply(void 0,O))),v=n(28),E=n(17),j=n(38),I=n(39),L=n(42),S=n(21),C=n(58),w=n(147),T=n(152),x=n(78),H=Object(x.a)({palette:{type:"dark"},typography:{fontFamily:"'Varela Round', sans-serif"}}),P=n(22),A=n(3),D=n(33),_=Object(c.b)((function(e){return{isLoggedIn:e.auth.isLoggedIn}}))((function(e){e.component;var t=Object(A.a)(e,["component"]);return o.a.createElement(D.b,t,e.isLoggedIn?o.a.createElement(e.component,null):o.a.createElement(D.a,{to:"/"}))})),U=n(151),k=n(150),F=n(148);function N(){var e=Object(S.a)(["\n  height: 0.7rem;\n"]);return N=function(){return e},e}function R(){var e=Object(S.a)(["\n  display: flex;\n  flex: 1;\n"]);return R=function(){return e},e}function G(){var e=Object(S.a)(["\n  display: flex;\n  flex: 1;\n"]);return G=function(){return e},e}function z(){var e=Object(S.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  flex: 1;\n"]);return z=function(){return e},e}function B(){var e=Object(S.a)(["\n  display: flex;\n  flex-direction: column;\n  // padding-bottom: 1rem;\n\n  // @media (max-width: 768px) {\n  //   flex-direction: column;\n  // }\n"]);return B=function(){return e},e}function q(){var e=Object(S.a)(["\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n"]);return q=function(){return e},e}var V=P.a.div(q()),W=P.a.div(B()),J=P.a.form(z()),Q=P.a.div(G()),M=P.a.div(R()),K=P.a.div(N()),$=n(141),X=n(144),Y=n(145);function Z(){var e=Object(S.a)(["\n  flex: 1;\n"]);return Z=function(){return e},e}var ee=function(e){return o.a.createElement($.a,{position:"static",color:"primary"},o.a.createElement(X.a,null,o.a.createElement(te,{variant:"h4"},"Quizr"),e.buttons&&o.a.createElement(k.a,{color:"inherit"},"Create Quiz")))};ee.defaultProps={buttons:!0};var te=Object(P.a)(Y.a)(Z()),ne=1,re=function(e){function t(){var e,n;Object(v.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(j.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(a)))).state={usernameInputText:"",submitAuthenticationFormDisable:!0,submitAuthenticationFormError:!1},n.handleUsernameInputTextChange=function(e){n.setState({usernameInputText:e.target.value},(function(){n.validateFormFields()}))},n.renderConnectButton=function(){var e=n.props.isLoggedIn;return o.a.createElement(k.a,{variant:"contained",color:"primary",endIcon:o.a.createElement(U.a,null),disabled:!e&&n.state.submitAuthenticationFormDisable,onClick:n.handleSubmitAuthenticationForm,type:"submit"},n.props.isLoggedIn?"Reconnect":"Login")},n.validateFormFields=function(){n.state.usernameInputText.length>=ne?n.setState({submitAuthenticationFormDisable:!1}):n.setState({submitAuthenticationFormDisable:!0})},n.handleSubmitAuthenticationForm=function(e){e.preventDefault(),n.props.isLoggedIn?n.props.history.push(ue):(n.props.setIsLoggingIn(!0),n.props.connection.invoke("Login",n.state.usernameInputText).then((function(e){n.props.setIsLoggingIn(!1),console.info("Logged in as user ".concat(e)),n.props.setIsLoggedIn(!0),n.props.setUser(e),n.props.history.push(ue)})).catch((function(e){n.props.setIsLoggingIn(!1),console.log(e.toString()),n.setState({submitAuthenticationFormError:!0})})))},n}return Object(L.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(r.Fragment,null,o.a.createElement(ee,null),o.a.createElement(V,null,o.a.createElement(Q,null),o.a.createElement(J,{onSubmit:this.handleSubmitAuthenticationForm},o.a.createElement(W,null,!this.props.isLoggedIn&&o.a.createElement(F.a,{id:"username-input",label:"Username",value:this.state.usernameInputText,onChange:function(t){return e.handleUsernameInputTextChange(t)},variant:"outlined",error:this.state.submitAuthenticationFormError,helperText:this.state.submitAuthenticationFormError?"Username already being used":null}),o.a.createElement(K,null),this.renderConnectButton())),o.a.createElement(M,null)))}}]),t}(r.Component),oe=Object(c.b)((function(e){return{connection:e.server.hubConnection,isLoggedIn:e.auth.isLoggedIn}}),{setIsLoggedIn:function(e){return{type:"AUTH/SET_IS_LOGGED_IN",payload:e}},setUser:function(e){return{type:"AUTH/SET_USER",payload:e}},setIsLoggingIn:function(e){return{type:"AUTH/SET_IS_LOGGING_IN",payload:e}}})(re),ae=function(e){function t(){return Object(v.a)(this,t),Object(j.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(L.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(ee,{buttons:!1}),o.a.createElement("h1",null,"Join Quiz Page"))}}]),t}(r.Component),ie=n(52),ce=function(e){return o.a.createElement(ie.a,{basename:"/"},o.a.createElement(D.d,null,o.a.createElement(D.b,{exact:!0,path:"/",component:oe}),o.a.createElement(_,{path:ue,component:ae}),o.a.createElement(D.a,{to:"/"})))},ue="/joinquiz",se=n(77),le=n.n(se);function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(){var e=Object(S.a)(["\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n"]);return be=function(){return e},e}var fe=P.a.div(be()),de=function(e){function t(){var e,n;Object(v.a)(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Object(j.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(o)))).state={isHubConnectionLoading:!1,errorLoadingHubConnection:!1},n.setIsHubConnectionLoading=function(e){n.setState({isHubConnectionLoading:e})},n.determineLoadingOverlayText=function(){return n.state.errorLoadingHubConnection?"Error connecting to server. Please refresh page to try again!":n.state.isHubConnectionLoading?"":n.props.isLoggingIn?"Logging in":""},n}return Object(L.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setIsHubConnectionLoading(!0);var t=(new C.b).withUrl("https://quizr-api.herokuapp.com/quizrhub",C.a.WebSockets).withAutomaticReconnect().build();t.onreconnecting((function(){e.setIsHubConnectionLoading(!0)})),t.onreconnected((function(){e.setIsHubConnectionLoading(!1)})),t.start().then((function(){e.props.setHubConnection(t),e.setIsHubConnectionLoading(!1)})).catch((function(t){alert(t),e.setIsHubConnectionLoading(!1),e.setState({errorLoadingHubConnection:!0})}))}},{key:"render",value:function(){return console.log("".concat(H.palette.primary[H.palette.type])),o.a.createElement(w.a,{theme:H},o.a.createElement(le.a,{active:this.state.isHubConnectionLoading||this.props.isLoggingIn||this.state.errorLoadingHubConnection,spinner:!this.state.errorLoadingHubConnection,fadeSpeed:0,text:this.determineLoadingOverlayText(),styles:{spinner:function(e){return ge({},e,{"& svg circle":{stroke:"".concat(H.palette.primary[H.palette.type])}})},content:function(e){return ge({},e,{fontFamily:H.typography.fontFamily})}}},o.a.createElement(T.a,null),o.a.createElement(fe,null,o.a.createElement(ce,null))))}}]),t}(r.Component),me=Object(c.b)((function(e){return{isLoggingIn:e.auth.isLoggingIn}}),{setHubConnection:function(e){return{type:"SERVER/SET_HUBCONNECTION",payload:e}}})(de);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(c.a,{store:y},o.a.createElement(me,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},87:function(e,t,n){e.exports=n(111)}},[[87,1,2]]]);
//# sourceMappingURL=main.156e37a4.chunk.js.map